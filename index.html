<!DOCTYPE html>
{q:"You light me but I am not a fire. What am I?", a:"candle"},
{q:"I pull Santa's sleigh through the sky. What am I?", a:"reindeer"}
],
fr: [
{q:"Je tombe du ciel et rends les enfants heureux. Qui suis-je ?", a:"neige"},
{q:"J'ai des aiguilles mais je ne pique pas. Qui suis-je ?", a:"horloge"},
{q:"Je suis portÃ© mais je ne suis pas un cadeau, je tiens chaud. Qui suis-je ?", a:"Ã©charpe"},
{q:"Je brille en haut du sapin de NoÃ«l. Qui suis-je ?", a:"Ã©toile"},
{q:"Je dis ho ho ho et j'apporte des cadeaux. Qui suis-je ?", a:"pÃ¨re noÃ«l"},
{q:"Je sonne sans tÃ©lÃ©phone. Qui suis-je ?", a:"cloche"},
{q:"Je suis vert et je sens bon en dÃ©cembre. Qui suis-je ?", a:"sapin"},
{q:"Je suis sucrÃ©, rouge et blanc, en forme de canne. Qui suis-je ?", a:"sucre d'orge"},
{q:"On m'allume mais je ne suis pas un feu. Qui suis-je ?", a:"bougie"},
{q:"Je tire le traÃ®neau du PÃ¨re NoÃ«l. Qui suis-je ?", a:"renne"}
]
};


let lang = 'en';
let musicOn = true;
let room = 0;


function toggleMusic() {
const bgm = document.getElementById('bgm');
musicOn = !musicOn;
if (musicOn) bgm.play(); else bgm.pause();
}


function setLang(l) {
lang = l;
room = 0;
render();
}


function drawMaze() {
const maze = document.getElementById('maze');
maze.innerHTML = '';
for (let i = 0; i < 10; i++) {
const cell = document.createElement('div');
cell.className = 'cell';
if (i < room) cell.classList.add('done');
if (i === room) cell.classList.add('active');
cell.textContent = i + 1;
maze.appendChild(cell);
}
}


function render() {
drawMaze();
const game = document.getElementById('game');
if (room < 10) {
game.innerHTML = `
<h2>${lang==='en' ? 'Room' : 'Salle'} ${room+1} / 10</h2>
<p>${riddles[lang][room].q}</p>
<input id="answer" placeholder="${lang==='en'?'Your answer':'Votre rÃ©ponse'}" />
<br />
<button onclick="check()">OK</button>
`;
} else {
game.innerHTML = `
<h2>${lang==='en'?'Congratulations!':'FÃ©licitations !'}</h2>
<p>${lang==='en'?'You escaped the Christmas labyrinth. Your passcode is:':'Vous avez terminÃ© le labyrinthe de NoÃ«l. Votre code est :'}</p>
<h3>ðŸŽ„ SOCIAL-NOEL-25 ðŸŽ„</h3>
`;
}
}


function check() {
const val = document.getElementById('answer').value.toLowerCase().trim();
if (val === riddles[lang][room].a) {
document.getElementById('success').play();
room++;
render();
} else {
alert(lang==='en'?'Wrong answer, try again!':'Mauvaise rÃ©ponse, essayez encore !');
}
